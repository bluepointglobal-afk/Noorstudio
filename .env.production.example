# ============================================================================
# PRODUCTION ENVIRONMENT VARIABLES
# Universe V2 - Production Configuration
# ============================================================================
#
# INSTRUCTIONS:
#   1. Copy this file to .env.production
#   2. Replace all placeholder values with actual production values
#   3. NEVER commit .env.production to version control
#   4. Store sensitive values in a secure secret manager
#
# ============================================================================

# ============================================================================
# SUPABASE CONFIGURATION
# ============================================================================

# Supabase Project URL
# Example: https://abcdefghijklmnop.supabase.co
VITE_SUPABASE_URL=https://your-project.supabase.co

# Supabase Anonymous Key (public, safe for client-side)
# This is the anon/public key from your Supabase project settings
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key-here

# Supabase Service Role Key (PRIVATE - server-side only)
# NEVER expose this in client-side code
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key-here

# ============================================================================
# DATABASE CONFIGURATION (Backend)
# ============================================================================

# PostgreSQL Connection String
# Format: postgresql://user:password@host:port/database
# Use connection pooling for production (e.g., Supabase Pooler)
DATABASE_URL=postgresql://postgres:[PASSWORD]@db.your-project.supabase.co:5432/postgres

# Database Pool Configuration
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_IDLE_TIMEOUT=30000

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable Universe V2 Features
VITE_ENABLE_UNIVERSE_V2=true
ENABLE_UNIVERSE_V2=true

# Universe V2 Rollout Percentage (0-100)
# Start with 10%, gradually increase to 100%
VITE_UNIVERSE_V2_ROLLOUT_PERCENTAGE=10
UNIVERSE_V2_ROLLOUT_PERCENTAGE=10

# Feature Flag for Asset Generation
VITE_ENABLE_ASSET_GENERATION=true

# Feature Flag for Outline Versioning
VITE_ENABLE_OUTLINE_VERSIONS=true

# ============================================================================
# API CONFIGURATION
# ============================================================================

# Backend API URL
# Example: https://api.noorstudio.com
VITE_API_URL=https://api.noorstudio.com

# API Base Path (if using path-based routing)
VITE_API_BASE_PATH=/api

# API Timeout (milliseconds)
VITE_API_TIMEOUT=30000

# ============================================================================
# AI GENERATION PROVIDERS
# ============================================================================

# OpenAI Configuration
OPENAI_API_KEY=your-openai-api-key-here
OPENAI_MODEL=gpt-4-turbo
OPENAI_MAX_TOKENS=4000

# Anthropic Configuration (if using Claude)
ANTHROPIC_API_KEY=your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-opus-20240229

# Stability AI (for image generation)
STABILITY_API_KEY=your-stability-api-key-here

# Replicate (alternative image generation)
REPLICATE_API_TOKEN=your-replicate-api-token-here

# ============================================================================
# ERROR TRACKING (Sentry)
# ============================================================================

# Sentry DSN for Frontend
# Get this from your Sentry project settings
VITE_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Sentry DSN for Backend
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Environment Name
VITE_ENVIRONMENT=production
SENTRY_ENVIRONMENT=production

# Sentry Traces Sample Rate (0.0 to 1.0)
# 1.0 = 100% of transactions tracked (can be expensive)
# 0.1 = 10% of transactions tracked (recommended for production)
SENTRY_TRACES_SAMPLE_RATE=0.1

# Sentry Release Version
# Automatically set by CI/CD or use git commit hash
SENTRY_RELEASE=universe-v2@1.0.0

# ============================================================================
# ANALYTICS
# ============================================================================

# Google Analytics 4
VITE_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# PostHog (alternative analytics)
VITE_POSTHOG_KEY=your-posthog-key-here
VITE_POSTHOG_HOST=https://app.posthog.com

# Mixpanel
VITE_MIXPANEL_TOKEN=your-mixpanel-token-here

# ============================================================================
# CDN & ASSET DELIVERY
# ============================================================================

# CDN URL for static assets
# Example: https://cdn.noorstudio.com
VITE_CDN_URL=https://cdn.noorstudio.com

# Asset Storage Provider
# Options: supabase, s3, cloudinary
ASSET_STORAGE_PROVIDER=supabase

# AWS S3 Configuration (if using S3)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=noorstudio-assets

# Cloudinary Configuration (if using Cloudinary)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================

# Email Provider (sendgrid, mailgun, ses)
EMAIL_PROVIDER=sendgrid

# SendGrid
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@noorstudio.com
SENDGRID_FROM_NAME=Noor Studio

# Mailgun
MAILGUN_API_KEY=your-mailgun-api-key
MAILGUN_DOMAIN=mg.noorstudio.com

# AWS SES
AWS_SES_REGION=us-east-1

# ============================================================================
# AUTHENTICATION
# ============================================================================

# Session Secret (generate a strong random string)
# Use: openssl rand -base64 32
SESSION_SECRET=your-session-secret-here

# JWT Secret (generate a strong random string)
JWT_SECRET=your-jwt-secret-here

# JWT Expiration
JWT_EXPIRES_IN=7d

# Cookie Settings
COOKIE_SECURE=true
COOKIE_SAME_SITE=strict
COOKIE_HTTP_ONLY=true

# ============================================================================
# RATE LIMITING
# ============================================================================

# API Rate Limit (requests per window)
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes

# Generation Rate Limit (to prevent abuse)
GENERATION_RATE_LIMIT_MAX=20
GENERATION_RATE_LIMIT_WINDOW_MS=3600000  # 1 hour

# ============================================================================
# LOGGING
# ============================================================================

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# Log Format (json, pretty)
LOG_FORMAT=json

# Enable Request Logging
LOG_REQUESTS=true

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================

# Node Environment
NODE_ENV=production

# Server Port
PORT=3002

# Server Host
HOST=0.0.0.0

# Enable CORS
CORS_ENABLED=true

# CORS Allowed Origins (comma-separated)
CORS_ORIGINS=https://noorstudio.com,https://www.noorstudio.com,https://app.noorstudio.com

# Enable Request Compression
COMPRESSION_ENABLED=true

# Trust Proxy (set to true if behind a reverse proxy)
TRUST_PROXY=true

# ============================================================================
# MONITORING & HEALTH CHECKS
# ============================================================================

# Health Check Endpoint
HEALTH_CHECK_PATH=/health

# Metrics Endpoint (Prometheus-compatible)
METRICS_PATH=/metrics
METRICS_ENABLED=true

# ============================================================================
# CACHE CONFIGURATION
# ============================================================================

# Redis Configuration (if using Redis for caching)
REDIS_URL=redis://default:password@your-redis-host:6379
REDIS_TTL=3600  # 1 hour default TTL

# Enable In-Memory Cache
ENABLE_MEMORY_CACHE=true
MEMORY_CACHE_MAX_SIZE=100

# ============================================================================
# BUILD CONFIGURATION
# ============================================================================

# Build Output Directory
BUILD_DIR=dist

# Source Maps (disable in production for security)
VITE_SOURCE_MAPS=false

# Build Optimization
VITE_MINIFY=true
VITE_TREE_SHAKE=true

# ============================================================================
# SECURITY
# ============================================================================

# Content Security Policy
CSP_ENABLED=true

# Helmet Security Headers
HELMET_ENABLED=true

# HSTS (HTTP Strict Transport Security)
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000  # 1 year

# XSS Protection
XSS_PROTECTION=true

# ============================================================================
# DEPLOYMENT
# ============================================================================

# Deployment Platform (vercel, netlify, aws, docker)
DEPLOYMENT_PLATFORM=vercel

# Git Commit Hash (set by CI/CD)
VITE_GIT_COMMIT=

# Build Timestamp (set by CI/CD)
VITE_BUILD_TIMESTAMP=

# ============================================================================
# NOTES
# ============================================================================
#
# Security Best Practices:
# - Never commit this file with real values to version control
# - Use environment-specific secret managers (AWS Secrets Manager, Vault, etc.)
# - Rotate API keys regularly
# - Use least-privilege access for all services
# - Enable MFA on all service accounts
#
# Feature Flag Rollout Plan:
# - Week 1: UNIVERSE_V2_ROLLOUT_PERCENTAGE=10
# - Week 2: UNIVERSE_V2_ROLLOUT_PERCENTAGE=25
# - Week 3: UNIVERSE_V2_ROLLOUT_PERCENTAGE=50
# - Week 4: UNIVERSE_V2_ROLLOUT_PERCENTAGE=100
#
# ============================================================================
